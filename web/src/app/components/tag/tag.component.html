<div class="tags d-flex">
  <div class="side col-md-4 py-3 px-2">
    <app-tree
        type="tag"
        header="Tags"
        [items]="tags"
    ></app-tree>
  </div>
  <div class="tag-content col-md-8 p-3" *ngIf="tagId">
    <div class="summary mb-4">
        
    </div>
    <div class="transactions">
        <table class="table table-success table-striped">
            <thead>
                <tr>
                  <th scope="col">Name</th>
                  <th scope="col" class="text-end">Transactions</th>
                  <th scope="col" class="text-end">Total</th>                  
                  <th scope="col" class="text-end">Actions</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let c of (list | async)">
                  <th scope="row">{{ c.name }}</th>
                  <td scope="row" class="w-150 text-end">{{ c.metadata.transactions }}</td>
                  <td scope="row" class="w-150 text-end">{{ c.metadata.total }}</td>
                  <td scope="row" class="w-150">
                      <div class="actions d-flex">
                        <i class="bi bi-pencil-square cursor-pointer ms-auto" (click)="addTransaction(c.id)"></i>                        
                        <i class="bi bi-trash ms-3 cursor-pointer" (click)="deleteCategory(c)"></i>
                      </div>
                  </td>
                </tr>
                <tr>
                    <td scope="row" colspan="5" *ngIf="isAddNew">
                        <div class="input-group">
                            <span class="input-group-text"><i class="bi bi-tag"></i></span>
                            <input type="text" class="form-control" placeholder="Category Name" [(ngModel)]="newName">
                            <button class="btn btn-success" type="button" (click)="saveCategory()"><i class="bi bi-save"></i></button>
                            <button class="btn btn-outline-danger" type="button" (click)="cancelCategory()"><i class="bi bi-x-square"></i></button>
                        </div>
                    </td>
                    <td *ngIf="!isAddNew" scope="row" colspan="5">
                        <button mat-raised-button color="accent" class="w-100" (click)="isAddNew = true;"><i class="bi bi-plus-lg"></i></button>
                    </td>
                </tr>
              </tbody>
        </table>
    </div>
  </div>
</div>